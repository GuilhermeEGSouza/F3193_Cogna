/*
 * Copyright (C) 2009-2023 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["scm/ewm/packoutbdlvs1/workflows/WorkFlow","scm/ewm/packoutbdlvs1/utils/Util","scm/ewm/packoutbdlvs1/service/ODataService","scm/ewm/packoutbdlvs1/modelHelper/Material","scm/ewm/packoutbdlvs1/modelHelper/Global","scm/ewm/packoutbdlvs1/modelHelper/Message","scm/ewm/packoutbdlvs1/utils/Const","scm/ewm/packoutbdlvs1/modelHelper/Cache","scm/ewm/packoutbdlvs1/modelHelper/PackingMode"],function(W,U,S,M,G,a,C,b,P){"use strict";return function(s,o){var w=new W().then(function(c,m){if(U.isEmpty(c)){m.bClearSource=true;m.bClearShip=true;m.bRemoveExceptionButtons=true;}else{m.bClearSource=c.bClearSource;m.bClearShip=c.bClearShip;m.bRemoveExceptionButtons=c.bRemoveExceptionButtons;}this.removeDuplicatedId();},s,"set mSession").then(function(p,m){if(m.bClearSource){this.clearSourceBeforeLeave();this.unbindODOInfo();this.unbindProductInfo();this.unbindImage();if(m.bRemoveExceptionButtons){this.removeExceptionButtons();}return this.disableButtons();}},s,"clear source side").then(function(p,m){if(m.bClearShip){this.updateInputWithDefault(C.ID.SHIP_INPUT,"");this.clearShipHUTabs();this.oItemHelper.clear();M.setCurrentMaterial({});G.removeAllShipHandlingUnits();this.setCurrentShipHandlingUnit("");}},o,"clear ship side").then(function(p,m){if(m.bClearSource){G.setUnpackEnable(false);this.clearPackingInstr();if(!this.oItemHelper.isEmpty()){this.oItemHelper.setItemsStatusToNone();}}},o,"clear ship side").then(function(p,m){if(m.bClearSource&&m.bClearShip){a.clearAll();b.reset();}},o,"clear message").then(function(p,m){if(m.bClearSource&&m.bClearShip&&!P.isBasicMode()){this.initDefaultColumnSetting();this.initColumnSetting();}},s,"source column setting initialization").then(function(p,m){if(m.bClearSource&&m.bClearShip&&!P.isBasicMode()){this.initDefaultColumnSetting();this.initColumnSetting();}},o,"ship column setting initialization").then(function(p,m){G.setSelectedProductInSource("");},o,"clear");w.errors().always(function(){this.playAudio(C.ERROR);},s);return w;};});
