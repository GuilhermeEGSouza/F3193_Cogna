/*
 * Copyright (C) 2009-2023 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["scm/ewm/packoutbdlvs1/workflows/WorkFlow","scm/ewm/packoutbdlvs1/utils/Util","scm/ewm/packoutbdlvs1/service/ODataService","scm/ewm/packoutbdlvs1/modelHelper/Material","scm/ewm/packoutbdlvs1/modelHelper/Global","scm/ewm/packoutbdlvs1/modelHelper/Message","scm/ewm/packoutbdlvs1/utils/Const"],function(W,U,S,M,G,a,C){"use strict";return function(s,o){var w=new W().then(function(){return S.terminateSession();},s).then(function(){this.clearSourceBeforeLeave();this.unbindODOInfo();this.unbindProductInfo();return this.disableButtons();},s,"clear source side").then(function(){this.updateInputWithDefault(C.ID.SHIP_INPUT,"");this.clearShipHUTabs();this.oItemHelper.clear();M.setCurrentMaterial({});G.removeAllShipHandlingUnits();this.setCurrentShipHandlingUnit("");this.clearPackingInstr();},o,"clear ship side").then(function(){a.clearAll();},o,"clear message").then(function(){this.navToHome();},s,"nav to home").then(function(){this.setBusy(false);},o);w.errors().default(function(e,p,m,c){if(c){this.showErrorMessagePopup(e);}},s).always(function(){this.setBusy(false);this.playAudio(C.ERROR);},s);return w;};});
