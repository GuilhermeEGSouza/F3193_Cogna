/*
 * Copyright (C) 2009-2023 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["scm/ewm/packoutbdlvs1/workflows/WorkFlow","scm/ewm/packoutbdlvs1/modelHelper/Global","scm/ewm/packoutbdlvs1/utils/Util","scm/ewm/packoutbdlvs1/service/ODataService","scm/ewm/packoutbdlvs1/utils/Const","scm/ewm/packoutbdlvs1/modelHelper/Message","scm/ewm/packoutbdlvs1/modelHelper/Material","scm/ewm/packoutbdlvs1/modelHelper/PackingMode"],function(W,G,U,S,C,M,a,P){"use strict";return function(s,o){var w=new W().then(function(c,m){if(U.isEmpty(c)){m.bClearSource=true;m.bClearShip=true;}else{m.bClearSource=c.bClearSource;m.bClearShip=c.bClearShip;}},s,"set mSession").then(function(p,m){if(m.bClearSource){this.clearSourceBeforeLeave();this.byId("product-info").unbindElement();this.removeExceptionButtons();return G.setPackAllEnable(false);}},s,"clear source side").then(function(p,m){if(m.bClearShip){this.clearShipHUTabs();this.oItemHelper.clear();G.removeAllShipHandlingUnits();this.setCurrentShipHandlingUnit("");this.clearPackingInstr();a.setFavoriteMaterialSelectedByDefault();a.setCurrentMaterial({});}},o,"clear ship side").then(function(p,m){if(m.bClearShip){G.setPackAllEnable(false);}},o,"clear ship side").then(function(p,m){if(m.bClearSource&&m.bClearShip){M.clearAll();}},o,"clear message").then(function(p,m){if(m.bClearSource&&m.bClearShip&&P.isBasicMode()){this.initDefaultColumnSetting();this.initColumnSetting();}},s,"source column setting initialization").then(function(p,m){if(m.bClearSource&&m.bClearShip&&P.isBasicMode()){this.initDefaultColumnSetting();this.initColumnSetting();}},o,"ship column setting initialization");w.errors().always(function(){this.playAudio(C.ERROR);},s);return w;};});
